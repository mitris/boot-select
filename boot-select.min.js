/* boot-select.js v1.0.0 http://github.com/mitris/boot-select */
 !function(t){"use strict"
var e=function(e,o){this.$element=t(e),this.options=t.extend({},t.fn.bootSelect.defaults,this.$element.data(),"object"==typeof o&&o),this.createDropdown(),this.updateOptions(),this.render(),this.attachEvents(),this.init()}
e.prototype={constructor:e,init:function(){var e=this
!this.options.debug&&this.$element.hide(),this.$element.find("option:selected").each(function(){e.setCurrent(t(this))}),this.$element.on("change",function(){e.setCurrent(t(this).find("option:selected"))}),this.options.onInit.apply(this)},createDropdown:function(){var e=this
this.$dropdown=t('<div class="clearfix"><div class="dropdown pull-left boot-select"><span class="btn dropdown-toggle '+this.options.size+'">'+'<span class="option pull-left hide"></span>'+'<span class="placeholder pull-left hide">'+this.options.placeholder+"</span>"+'<span class="pull-right toggle"><i class="icon-angle-down"></i></span>'+'<span class="pull-right clear hide">&times;</span>'+"</span>"+'<div class="dropdown-menu">'+'<div class="nano">'+'<div class="content">'+"<ul></ul>"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>"),this.$button=this.$dropdown.find(".btn"),this.$current=this.$button.find(".option"),this.$placeholder=this.$button.find(".placeholder"),this.$clear=this.$button.find(".clear"),this.$dropdown_menu=this.$dropdown.find(".dropdown-menu"),this.$list=this.$dropdown_menu.find("ul"),this.$button.data("original-class",this.$button.attr("class")),this.$current.data("original-class",this.$current.attr("class")),this.$button.on("click.boot-select",function(){t.fn.nanoScroller&&e.$dropdown.find(".nano").nanoScroller({preventPageScrolling:!0}),e.$dropdown.toggleClass("open"),e.scrollToSelectedOption()}),this.options.enableClear&&this.$clear.show().on("click.boot-select",function(t){t.stopPropagation(),e.clear()})},updateOptions:function(){var e=this
e.$list.empty(),e.$list_options={},e.$element.find("option").each(function(){var o=t(this)
e.$list_options[o.val()]=t("<li><span>"+o.text()+"</span></li>"),e.$list_options[o.val()].find("span").addClass(o.data("option-class")).data("value",o.val()),o.val()&&(e.$list_options[o.val()].on("click",function(){e.setCurrent(o)}),e.$list.append(e.$list_options[o.val()]))}),this.options.onUpdate.apply(this.$element)},setCurrent:function(t,e,o){e=e||!1,o=o||!1,!o&&this.options.onChangeBefore.apply(this.$element),t.val()?(this.$list.find("li").removeClass("active"),this.$list_options[t.val()].addClass("active"),this.$element.val(t.val()),this.$current.text(t.text()).removeClass().addClass(this.$current.data("original-class")).addClass(t.data("current-class")).show(),this.$button.removeClass().addClass(this.$button.data("original-class")).addClass(t.data("btn-class")),this.$placeholder.hide(),this.scrollToSelectedOption(),!e&&this.$dropdown.removeClass("open")):this.clear(),!o&&this.options.onChange.apply(this.$element)},scrollToSelectedOption:function(){this.$dropdown_menu.animate({scrollTop:this.$list.find("li.active").index()*this.$list.find("li.active").outerHeight()},100)},render:function(){this.$element.after(this.$dropdown)},clear:function(){this.$dropdown_menu.animate({scrollTop:0},100),this.$list.find("li").removeClass("active"),this.$element.prop("selectedIndex",0),this.$current.hide(),this.$button.attr("class",this.$button.data("original-class")),this.$placeholder.show(),this.options.onClear.apply(this.$element)},attachEvents:function(){var e=this
if(e.options.keyboardNavigation&&t(document).on("keypress.boot-select",function(t){e.$dropdown.hasClass("open")&&/(38|40|27|13)/.test(t.keyCode)&&(t.preventDefault(),t.stopPropagation(),(27==t.keyCode||13==t.keyCode)&&e.$dropdown.removeClass("open"),38==t.keyCode&&e.setCurrent(e.$element.find("option:selected").prev(),!0),40==t.keyCode&&e.setCurrent(e.$element.find("option:selected").next(),!0))}),e.options.autoClose){var e=this
t(document).on("click.boot-select",function(t){e.$dropdown.is(t.target)||e.$dropdown.has(t.target).length||e.$dropdown.removeClass("open")})}}},t.fn.bootSelect=function(o){var n=Array.apply(null,arguments)
return n.shift(),this.each(function(){var s=t(this),i=s.data("bootSelect"),a="object"==typeof o&&o
return i&&"object"==typeof i||s.data("bootSelect",i=new e(this,a)),"string"==typeof o&&"function"==typeof i[o]?i[o].apply(i,n):("string"==typeof o&&void 0===i[o]&&i.options.debug&&console.log('BootSelect Error: Method "'+o+'" does not exist.'),void 0)})},t.fn.bootSelect.defaults={debug:!1,enableClear:!0,autoClose:!0,keyboardNavigation:!0,size:"input-initial",placeholder:"Выберите из списка",onInit:function(){},onUpdate:function(){},onChange:function(){},onChangeBefore:function(){},onClear:function(){}},t(document).find("[data-boot-select=true]").bootSelect()}(window.jQuery)
